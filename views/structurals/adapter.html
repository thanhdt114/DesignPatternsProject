<section id="adapter">
    <div class="child-content">
        <h2>Adapter</h2>
        <h3>Định nghĩa</h3>
        <p>
            Mẫu Adapter trong design pattern là một mẫu thiết kế cho phép các đối tượng có giao diện
            không tương thích hoặc không tương thích hoàn toàn làm việc cùng nhau thông qua một lớp
            trung gian gọi là Adapter. Mẫu Adapter giúp các đối tượng khác nhau có thể tương tác và
            làm việc với nhau một cách nhất quán.
            <br /><br />
            Một ví dụ phổ biến của mẫu Adapter là khi chúng ta có một đối tượng (hoặc một hệ thống)
            đã tồn tại và chúng ta muốn sử dụng nó trong một ngữ cảnh khác mà yêu cầu một giao diện
            khác. Thay vì thay đổi đối tượng ban đầu, chúng ta sử dụng mẫu Adapter để chuyển đổi
            giao diện của đối tượng ban đầu thành giao diện mà ngữ cảnh mới yêu cầu.
        </p>

        <h3>Class diagram</h3>
        <img src="creationals/image/class-diagram-adapter" alt="class-diagram-adapter" />

        <h3>Code ví dụ</h3>
        <pre class="code-container">
            <code>
    // Giao diện nguồn dữ liệu không tương thích
    class LegacyDataSource {
        getData() {
            return "Legacy data";
        }
    }
    
    // Giao diện mục tiêu
    class TargetDataSource {
        getData() {
            return "Target data";
        }
    }
    
    // Adapter chuyển đổi từ LegacyDataSource sang TargetDataSource
    class DataSourceAdapter extends TargetDataSource {
        constructor(legacyDataSource) {
            super();
            this.legacyDataSource = legacyDataSource;
        }
    
        getData() {
            const legacyData = this.legacyDataSource.getData();
            // Chuyển đổi dữ liệu từ legacyData thành dạng dữ liệu mới
            const transformedData = `Transformed: ${legacyData}`;
            return transformedData;
        }
    }
    
    // Sử dụng
    const legacyDataSource = new LegacyDataSource();
    const adapter = new DataSourceAdapter(legacyDataSource);
    
    console.log(adapter.getData()); // "Transformed: Legacy data"                
            </code>
        </pre>

        <h3>Giải thích code</h3>
        <p>
            Trong ví dụ trên, chúng ta có một giao diện nguồn dữ liệu không tương thích
            (LegacyDataSource) và một giao diện mục tiêu (TargetDataSource) mà ngữ cảnh mới yêu cầu.
            Chúng ta sử dụng mẫu Adapter bằng cách tạo một lớp DataSourceAdapter kế thừa từ
            TargetDataSource, và chuyển đổi giao diện từ LegacyDataSource sang TargetDataSource
            trong phương thức getData().
            <br /><br />
            Khi chúng ta sử dụng adapter để lấy dữ liệu thông qua phương thức getData(), nó sẽ gọi
            phương thức tương ứng trên LegacyDataSource, chuyển đổi dữ liệu từ nguồn dữ liệu cũ sang
            định dạng mới và trả về dữ liệu đã chuyển đổi.
            <br /><br />
            Mẫu Adapter cho phép chúng ta sử dụng các đối tượng không tương thích trong một ngữ cảnh
            mới mà không cần thay đổi cấu trúc hoặc mã nguồn của các đối tượng ban đầu. Nó giúp tăng
            tính linh hoạt và tái sử dụng trong thiết kế hệ thống.
        </p>

        <div class="apply">
            <p>
                Legacy Data Source | Adapter | Target Data Source
            </p>
            <button onclick="processAdapter()">Transformed</button>
            <button onclick="clearState()">Clear State</button>
        </div>

        <div class="state">
            <p id="now-state">State: empty</p>
        </div>

        <div class="result">
            
        </div>
    </div>
</section>
